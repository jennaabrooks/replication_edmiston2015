<!DOCTYPE html>
<html>
 <head>
    <title> Words Special Experiment</title>
    <script src="https://unpkg.com/jspsych@8.0.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.0.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.0.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-preload@2.0.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-audio-button-response@2.0.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-button-response@1.2.0"></script>
    <link href="https://unpkg.com/jspsych@8.0.0/css/jspsych.css" rel="stylesheet" type="text/css" />
 </head>
 <body>
 </body>
 <script>


var jsPsych = initJsPsych(
    {
    on_finish: function() {
        jsPsych.data.displayData();
  }
}
);

//create timeline
var timeline = [];

//preloaded all images from stimuli folder  
var preload = {
  type: jsPsychPreload,
  images: ['stimuli/pictures/bird_hawk_1.jpg', 
        'stimuli/pictures/bird_hawk_2.jpg',
        'stimuli/pictures/bird_song_1.jpg',
        'stimuli/pictures/bird_song_2.jpg',
        'stimuli/pictures/dog_rott_1.jpg',
        'stimuli/pictures/dog_rott_2.jpg',
        'stimuli/pictures/dog_york_1.jpg',
        'stimuli/pictures/dog_york_2.jpg',
        'stimuli/pictures/drum_bongo_1.jpg',
        'stimuli/pictures/drum_bongo_2.jpg',
        'stimuli/pictures/drum_kit_1.jpg',
        'stimuli/pictures/drum_kit_2.jpg',
        'stimuli/pictures/guitar_acoustic_1.jpg', 
        'stimuli/pictures/guitar_acoustic_2.jpg',
        'stimuli/pictures/guitar_electric_1.jpg',
        'stimuli/pictures/guitar_electric_2.jpg',
        'stimuli/pictures/motor_dirt_1.jpg',
        'stimuli/pictures/motor_dirt_2.jpg', 
        'stimuli/pictures/motor_harley_1.jpg', 
        'stimuli/pictures/motor_harley_2.jpg', 
        'stimuli/pictures/phone_cell_1.jpg',
        'stimuli/pictures/phone_cell_2.jpg',
        'stimuli/pictures/phone_rotary_1.jpg',
        'stimuli/pictures/phone_rotary_2.jpg'], 
    audio:['stimuli/sounds/bird_label_A.wav',
        'stimuli/sounds/bird_label_A.wav', 
        'stimuli/sounds/bird_sound_A.wav', 
        'stimuli/sounds/bird_sound_B.wav',
        'stimuli/sounds/bleep.wav',
        'stimuli/sounds/buzz.wav',
        'stimuli/sounds/dog_label_A.wav', 
        'stimuli/sounds/dog_label_B.wav',
        'stimuli/sounds/dog_sound_A.wav', 
        'stimuli/sounds/dog_sound_B.wav',
        'stimuli/sounds/drum_label_A.wav',
        'stimuli/sounds/drum_label_B.wav',
        'stimuli/sounds/drum_sound_A.wav',
        'stimuli/sounds/drum_sound_B.wav',
        'stimuli/sounds/guitar_label_A.wav',
        'stimuli/sounds/guitar_label_B.wav',
        'stimuli/sounds/guitar_sound_A.wav',
        'stimuli/sounds/guitar_sound_B.wav',
        'stimuli/sounds/motor_label_A.wav',
        'stimuli/sounds/motor_label_B.wav',
        'stimuli/sounds/motor_sound_A.wav', 
        'stimuli/sounds/motor_sound_B.wav',
        'stimuli/sounds/phone_label_A.wav',
        'stimuli/sounds/phone_label_B.wav',
        'stimuli/sounds/phone_sound_A.wav',
        'stimuli/sounds/phone_sound_B.wav']
};
timeline.push(preload); 


//define welcome message trial 
var welcome = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: "Welcome to the experiment. Press any key to begin."
};
// add the welcome trial to the timeline variable
timeline.push(welcome);

//instructions
// Instructions
const instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<h2>Instructions</h2>
               <p>Your task is to decide as quickly and accurately as possible if auditory cue you hear matches the image you see.</p>
               <p> First you will hear an auditory cue, then you will see an image. </p>
               <p>Press letter "Y", yes if it matches the image you saw, and letter "N", no if it does not.</p>`,
    choices: ['Start Practice'],
    button_html: ['<button class="jspsych-btn">%choice%</button>']

};

// add instructions to timeline variable 
 timeline.push(instructions);

// Fixation cross trial
const fixation_cross = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: '<div style="font-size: 48px;">+</div>', // You can change the symbol or style as needed
    choices: "NO_KEYS", // Prevents any key from being pressed
    trial_duration: 250 // Display for 250 ms
};
// Delay trial of 1000 ms (1 second) after audio ends
const delay = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: '', // Blank screen
    choices: "NO_KEYS", // Prevents any response
    trial_duration: 1000 // 1-second delay
};
// Auditory cue (label) is presented. Trial finished automatically after audio. 
 var bird_label = {
    type:jsPsychAudioButtonResponse,
    stimulus: 'stimuli/sounds/bird_label_A.wav', 
    choices: [], //Do not add choices here, we don't want the participant to respond until after image. Need this line for code to run. 
    trial_ends_after_audio: true // Ends trial automatically after audio finishes
 };

var bird_trial = {
  type: jsPsychImageKeyboardResponse,
  stimulus: 'stimuli/pictures/bird_hawk_1.jpg',
  choices: ['y', 'n'],
  prompt: "Does this image match the auditory cue? Press letter <strong> Y </strong> for yes, letter <strong> N </strong> for no.",
  response_ends_trial: true // Keeps image visible until response
};

// Feedback trial (auditory feedback) Auditory feedback (buzz or bleep) was given after each trial.
const feedback_trial = {
    type: jsPsychAudioButtonResponse,
    stimulus: 'stimuli/sounds/buzz.wav', // Replace with your feedback sound file
    choices: [], // No choices needed
    trial_ends_after_audio: true // Ends trial automatically after audio finishes
};

timeline.push(fixation_cross,bird_label, delay, bird_trial, feedback_trial);


// start the experiment
jsPsych.run(timeline);

</script>
</html>